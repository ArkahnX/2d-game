<!DOCTYPE HTML>
<html>
<head>
<title>Loading Game...</title>
<style>
	canvas {
		border: 1px dashed black;
	}
	html, body {
		passing:0;
		margin:0;
	}
	</style>
</head>
<body>
	<div id="engine">
		<p>Loading Game Assets...</p>
	</div>
	<div id="game"></div>
	<script src="engine/fpsmeter.min.js"></script>
	<script src="engine/pixi.js"></script>
	<script src="engine/native.js"></script>
	<script src="engine/init.js"></script>
	<script>
	var http = require('http');
	var app = require('http').createServer(handler);
		io = require('socket.io').listen(app),
		fs = require('fs')

		app.listen(80, "127.0.0.1");

	function handler(req, res) {
		fs.readFile(__dirname + '/index.html',

		function(err, data) {
			if (err) {
				res.writeHead(500);
				return res.end('Error loading index.html');
			}

			res.writeHead(200);
			res.end(data);
		});
	}

	io.sockets.on('connection', function(socket) {
		socket.emit('news', {
			hello: 'world'
		});
		socket.on('my other event', function(data) {
			console.log(data);
		});
	});
	</script>
</body>
</html>